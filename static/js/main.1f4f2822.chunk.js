(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/default-photo.447bb7f2.jpg"},44:function(e,t,a){e.exports=a(99)},97:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),s=a(15),i=a(41),l=a(7),m=a.n(l),d=a(13),u=a(8),p=a(9),f=a(11),h=a(10),g=a(12),v=a(35),b=a(3),E=a(16),w=(a(59),a(19)),y=a(36),k={key:"AIzaSyAgpAKlEmeZ8RHVfpzhaxELJp9gEAy8Yds"},N={key:"AIzaSyAgpAKlEmeZ8RHVfpzhaxELJp9gEAy8Yds"},S={},_=a.n(y).a.create({});S.getCity=function(){var e=Object(d.a)(m.a.mark(function e(t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.get("https://maps.googleapis.com/maps/api/geocode/json",{params:Object(w.a)({},N,{latlng:"".concat(t,", ").concat(a)})}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),S.representatives=function(){var e=Object(d.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.get("".concat("https://www.googleapis.com/civicinfo/v2","/representatives"),{params:Object(w.a)({},k,t)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S.voterInfo=function(){var e=Object(d.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.get("".concat("https://www.googleapis.com/civicinfo/v2","/voterinfo"),{params:Object(w.a)({},k,t)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var j=S,x=["New York, NY","Los Angeles, CA","Chicago, IL"];function A(e){var t=new URLSearchParams(window.location.search);return r.a.createElement("nav",{id:"navbar",className:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("button",{className:"navbar-brand navbar-title btn btn-link animated slideInLeft"},r.a.createElement(b.a,{icon:"gavel"}),r.a.createElement("span",{className:"icon-text"},"Who Governs Me?")),r.a.createElement("div",{id:"navbarMenu",className:"collapse navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav ml-auto animated slideInRight"},x.map(function(e){return r.a.createElement("li",{key:e,className:"nav-item ".concat(t.get("address")===e?"active":"")},r.a.createElement("a",{className:"nav-link btn btn-link",href:"?address=".concat(e)},r.a.createElement(b.a,{icon:"city"}),r.a.createElement("span",{style:{marginLeft:"10px"}},e)))}))))}var O=a(37);function C(e){return r.a.createElement(O.a,{size:e.size||128})}var L=a(17),I=a.n(L),U=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={address:null},a.handleChange=function(e){(e=""!==e?e:null)||localStorage.removeItem("address"),a.setState({address:e})},a.handleSelect=function(e){if(a.setState({address:e}),localStorage.setItem("address",e),window.history.pushState){var t=window.location.origin+"?address=".concat(e);window.history.pushState({path:t},"",t)}Object(L.geocodeByAddress)(e).then(function(e){return Object(L.getLatLng)(e[0])}).then(function(t){return a.props.onChange(e,t)}).catch(function(e){return console.error(e)})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search);return e.get("address")?this.handleSelect(e.get("address")):localStorage.getItem("address")?this.handleSelect(localStorage.getItem("address")):void 0}},{key:"render",value:function(){return r.a.createElement(I.a,{value:this.state.address||localStorage.getItem("address")||"",onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:{componentRestrictions:{country:"us"}},classNames:{input:"places-search-input form-control",autocompleteContainer:"search-autocomplete-container"}},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,c=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"What's your address?",className:"location-search-input"})),r.a.createElement("p",{className:"text-muted text-right"},r.a.createElement("em",null,"Or, just your City and State if you prefer.")),r.a.createElement("div",{className:"autocomplete-dropdown-container"},c&&r.a.createElement("div",null,"Loading..."),a.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#ddd",cursor:"pointer",borderRadius:"4px",padding:"2px"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",Object.assign({key:Math.random().toString(36)},n(e,{className:t,style:a})),r.a.createElement("span",null,e.description))})))})}}]),t}(n.Component),z=a(27),B=a.n(z),P=a(40),R=a.n(P),q=a(18),M=a.n(q),T=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).mapAddress=function(e){var t="".concat(e.line1||""," ").concat(e.line2||""," ").concat(e.line3||""," ").concat(e.city||""," ").concat(e.state||""," ").concat(e.zip||""),a=encodeURIComponent(t),n="https://www.google.com/maps/search/?api=1&query=".concat(a);window.open(n)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.office,c=a.official;switch(c.name){case"Donald J. Trump":e="Donald Trump";break;default:e=c.name}var o=c.party?"Unknown"===c.party?"Unknown Party":c.party:"Unknown Party",s=n.name;switch(n.name){case"governmentOfficer":s="Government Officer";break;case"legislatorUpperBody":s="Legislator, Upper Body";break;case"headofGovernment":s="Head of Government"}var i,l=c.photoUrl;"https://www.whitehouse.gov/sites/whitehouse.gov/files/images/45/PE%20Color.jpg"===l&&(l="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKx6EYhhB26AqqnnfUHX5B3HuLPilvjkKXzWR8-C8G29fOtoUN"),"https://www.whitehouse.gov/sites/whitehouse.gov/files/images/45/VPE%20Color.jpg"===l&&(l="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Mike_Pence_official_Vice_Presidential_portrait.jpg/1200px-Mike_Pence_official_Vice_Presidential_portrait.jpg"),l&&l.includes("http://")&&(l=l.replace("http://","https://"),i="https://http-securifier.herokuapp.com/?url=".concat(c.photoUrl)),l&&l.includes("bioguide.congress.gov")&&(l=i);var m=l?[l]:M.a;return i&&m.push(i),Array.isArray(m)&&m.push(M.a),r.a.createElement("div",{className:"official-card card mb-4"},r.a.createElement("div",{className:"card-header"},r.a.createElement(R.a,null,r.a.createElement(B.a,{className:"img-thumbnail official-profile-image float-left",src:m,loader:r.a.createElement(B.a,{className:"img-thumbnail official-profile-image float-left",src:M.a})})),r.a.createElement("p",{className:"text-right"},r.a.createElement("span",{className:"official-name"},c.name),r.a.createElement("br",null),r.a.createElement("span",{className:"office-name"},s),r.a.createElement("br",null),r.a.createElement("span",{className:"office-party"},o.includes("Republican")&&r.a.createElement(b.a,{icon:"republican",color:"#E91D0E"}),o.includes("Democrat")&&r.a.createElement(b.a,{icon:"democrat",color:"#232066"}),r.a.createElement("span",{className:"icon-text"},o)))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("address",null,c.address&&c.address.length>0&&r.a.createElement("p",null,""!==c.address[0].line1&&r.a.createElement("span",null,c.address[0].line1,r.a.createElement("br",null)),""!==c.address[0].line2&&r.a.createElement("span",null,c.address[0].line2,r.a.createElement("br",null)),""!==c.address[0].line3&&r.a.createElement("span",null,c.address[0].line3,r.a.createElement("br",null),">"),r.a.createElement("span",null,c.address[0].city,", ",c.address[0].state," ",c.address[0].zip,r.a.createElement("br",null))),c.phones&&c.phones.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{icon:"phone"}),r.a.createElement("a",{className:"icon-text",href:"tel:".concat(c.phones[0])},c.phones[0]),r.a.createElement("br",null)))))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{title:"Search on Ballotpedia",className:"btn btn-link",href:"https://ballotpedia.org/wiki/index.php?search=".concat(e),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(b.a,{icon:"vote-yea",size:"2x"})),c.emails&&c.emails.length>0&&r.a.createElement("a",{title:"Send Email",className:"btn btn-link",href:"mailto:".concat(c.emails[0])},r.a.createElement(b.a,{icon:"envelope",size:"2x"})),c.phones&&c.phones.length>0&&r.a.createElement("a",{title:"Call: ".concat(c.phones[0]),className:"btn btn-link",href:"tel://".concat(c.phones[0])},r.a.createElement(b.a,{icon:"phone",size:"2x"})),c.address&&c.address.length>0&&r.a.createElement("span",{title:"View on Map",className:"btn btn-link",onClick:function(){return t.mapAddress(c.address[0])}},r.a.createElement(b.a,{icon:"map-marker-alt",size:"2x"})),c.urls&&c.urls.length>0&&r.a.createElement("a",{title:"Visit website: ".concat(c.urls[0]),className:"btn btn-link",href:c.urls[0],target:"_blank",rel:"noopener noreferrer"},r.a.createElement(b.a,{icon:"link",size:"2x"})),c.channels&&c.channels.length>0&&c.channels.map(function(e){var t=null,a=null,n=null;switch(e.type){case"Facebook":t=r.a.createElement(b.a,{icon:["fab","facebook"],size:"2x"}),n=a="https://fb.me/".concat(e.id);break;case"Twitter":t=r.a.createElement(b.a,{icon:["fab","twitter"],size:"2x"}),a="https://twitter.com/".concat(e.id),n="twitter://user?screen_name=".concat(e.id);break;case"YouTube":t=r.a.createElement(b.a,{icon:["fab","youtube"],size:"2x"}),n=a="https://youtube.com/user/".concat(e.id);break;default:t=null}return r.a.createElement("span",{key:e.type+e.id},t&&r.a.createElement("a",{title:"".concat(e.type,": ").concat(e.id),className:"btn btn-link",key:e.type+e.id,href:/Mobi|Android/i.test(navigator.userAgent)?n:a,target:"_blank",rel:"noopener noreferrer"},t))}))))}}]),t}(n.Component),W="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyAgpAKlEmeZ8RHVfpzhaxELJp9gEAy8Yds","&libraries=places"),D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,showAddressBar:!1,representatives:null},a.componentDidMount=function(){var e;e=setInterval(function(){window.google&&(a.setState({showAddressBar:!0},function(){document.querySelector(".location-search-input").focus(),document.querySelector(".location-search-input").addEventListener("focus",function(e){e.target.select()})}),clearInterval(e))},100),fetch("https://json.geoiplookup.io").then(function(e){return e.json()}).then(function(e){"US"!==e.country_code&&window.alert("Please note that this app only provides data for the United States")}).catch(function(e){console.log(e)}),setInterval(a.checkFABState,200)},a.checkFABState=function(){var e=document.querySelector(".rtf");e.classList.contains("open")&&document.querySelector(".rtf--mb").classList.remove("animate__animated","animate__infinite","animate__slower","animate__bounce"),e.classList.contains("closed")&&document.querySelector(".rtf--mb").classList.add("animate__animated","animate__infinite","animate__slower","animate__bounce")},a.onChange=function(){var e=Object(d.a)(m.a.mark(function e(t,n){var r,c,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({isLoading:!0,representatives:null}),e.next=4,j.representatives({address:t});case 4:r=e.sent,c=[],Object.values(r.data.divisions).forEach(function(e){c.push({name:e.name,offices:e.officeIndices})}),o=c.find(function(e){return"United States"===e.name}),(c=c.filter(function(e){return"United States"!==e.name})).unshift(o),a.setState({isLoading:!1,representatives:{divisions:c,offices:r.data.offices,officials:r.data.officials}}),document.querySelector(".address-search-container").classList.add("done"),document.querySelector(".location-search-input").blur(),document.title="Who Governs Me? \u2022 ".concat(t),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t,a){return e.apply(this,arguments)}}(),a.scrollToTop=function(){window.scrollTo(0,0)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t={backgroundColor:"#2222aa"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.Helmet,null,r.a.createElement("script",{src:W}),r.a.createElement("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=".concat("UA-139150961-2")}),r.a.createElement("script",null,"window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n                gtag('config', '".concat("UA-139150961-2","');\n              "))),r.a.createElement(A,null),r.a.createElement("div",{className:"container address-search-container"},!this.state.showAddressBar&&r.a.createElement(C,{size:64}),this.state.showAddressBar&&r.a.createElement("div",{className:"animate__animated animate__fadeInDownBig"},r.a.createElement(U,{onChange:this.onChange}))),r.a.createElement("div",{className:"container search-results-wrapper"},r.a.createElement("h3",{className:"quote animate__animated animate__backInUp"},"\"It's not the voting that's democracy; it's the counting.\" ",r.a.createElement("small",null,"\u2014 Tom Stoppard")),this.state.isLoading&&r.a.createElement(C,null),this.state.representatives&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},this.state.representatives.divisions.map(function(t){if(!t.offices||0===t.offices.length)return null;var a=t.name.replace(/([' | ])+/g,"_");return r.a.createElement("section",{key:t.name,id:"SECTION_"+a},r.a.createElement("div",{className:"card mt-4"},r.a.createElement("div",{className:"card-header bg-dark text-white"},r.a.createElement("h3",null,r.a.createElement(b.a,{icon:"landmark"}),r.a.createElement("span",{style:{marginLeft:"20px"}},"United States"!==t.name?t.name:"Federal"))),r.a.createElement("div",{id:a,className:"card-body collapse show"},r.a.createElement("div",{className:"card-deck"},t.offices&&t.offices.map(function(t){var a=e.state.representatives.offices[t],n=a.officialIndices.map(function(t){return e.state.representatives.officials[t]});return r.a.createElement(r.a.Fragment,{key:t},n.map(function(e){return r.a.createElement(T,{key:e.name+Math.random(),office:a,official:e})}))})))))})))),r.a.createElement("footer",{className:"footer mt-auto py-3 animate__animated animate__slideInUp"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{href:"https://github.com/sponsors/mathiscode",target:"_blank",rel:"noopener noreferrer"},"Made with ",r.a.createElement(b.a,{icon:"heart",color:"#d00"})," by Jay Mathis"),r.a.createElement("small",{className:"float-right"},r.a.createElement("em",null,"Data provided by ",r.a.createElement("a",{href:"https://developers.google.com/civic-information",target:"_blank",rel:"noopener noreferrer"},"Google Civic Information"))))),r.a.createElement(E.b,{alwaysShowTitle:!0,event:"click",icon:r.a.createElement(b.a,{icon:"bars"}),mainButtonStyles:{backgroundColor:"#aa0000"},children:[r.a.createElement(E.a,{text:"Search",style:t,onClick:function(){e.scrollToTop(),document.querySelector(".location-search-input").focus()}},r.a.createElement(b.a,{icon:"search"})),r.a.createElement(E.a,{text:"Register to Vote",style:t,onClick:function(){return window.open("https://www.vote.org/register-to-vote/","_blank")}},r.a.createElement(b.a,{icon:"vote-yea"})),r.a.createElement(E.a,{text:"Buy me a beer",style:t,onClick:function(){return window.open("https://github.com/sponsors/mathiscode","_blank")}},r.a.createElement(b.a,{icon:"beer"}))]}))}}]),t}(n.Component),G=(a(96),a(97),a(98),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function V(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var F=a(4);s.b.add(i.a,F.a,F.b,F.f,F.g,F.i,F.k,F.l,F.m,F.h,F.e,F.n,F.p,F.q,F.c,F.o,F.j,F.d),o.a.render(r.a.createElement(D,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/wgm-worker.js");G?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):V(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("WhoGoverns.me Service Worker ready!")})):V(t,e)})}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.1f4f2822.chunk.js.map