(this["webpackJsonpwhogoverns.me"]=this["webpackJsonpwhogoverns.me"]||[]).push([[0],{20:function(e,a,t){e.exports=t.p+"static/media/default-photo.447bb7f2.jpg"},44:function(e,a,t){e.exports=t(81)},6:function(e){e.exports=JSON.parse('{"PLACES_API_KEY":"AIzaSyAgpAKlEmeZ8RHVfpzhaxELJp9gEAy8Yds","CIVIC_API_KEY":"AIzaSyAgpAKlEmeZ8RHVfpzhaxELJp9gEAy8Yds","GEOCODE_API_KEY":"AIzaSyAgpAKlEmeZ8RHVfpzhaxELJp9gEAy8Yds","GOOGLE_ANALYTICS_TRACKING_ID":"UA-139150961-2"}')},79:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),c=t.n(o),s=t(15),i=t(42),l=t(7),m=t.n(l),d=t(13),u=t(9),p=t(10),f=t(12),h=t(11),g=t(34),v=t(3),E=t(16),b=(t(54),t(6)),w=t(8),y=t(37),k=t.n(y),N={key:b.CIVIC_API_KEY},A={key:b.GEOCODE_API_KEY},_={},C=k.a.create({});_.getCity=function(){var e=Object(d.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.get("https://maps.googleapis.com/maps/api/geocode/json",{params:Object(w.a)(Object(w.a)({},A),{},{latlng:"".concat(a,", ").concat(t)})}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),_.representatives=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.get("".concat("https://www.googleapis.com/civicinfo/v2","/representatives"),{params:Object(w.a)(Object(w.a)({},N),a)}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_.voterInfo=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.get("".concat("https://www.googleapis.com/civicinfo/v2","/voterinfo"),{params:Object(w.a)(Object(w.a)({},N),a)}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();var O=_,S=["New York, NY","Los Angeles, CA","Chicago, IL"];function I(e){var a=new URLSearchParams(window.location.search);return r.a.createElement("nav",{id:"navbar",className:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("button",{className:"navbar-brand navbar-title btn btn-link animated slideInLeft"},r.a.createElement(v.a,{icon:"gavel"}),r.a.createElement("span",{className:"icon-text"},"Who Governs Me?")),r.a.createElement("div",{id:"navbarMenu",className:"collapse navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav ml-auto animated slideInRight"},S.map((function(e){return r.a.createElement("li",{key:e,className:"nav-item ".concat(a.get("address")===e?"active":"")},r.a.createElement("a",{className:"nav-link btn btn-link",href:"?address=".concat(e)},r.a.createElement(v.a,{icon:"city"}),r.a.createElement("span",{style:{marginLeft:"10px"}},e)))})))))}var L=t(43);function j(e){return r.a.createElement(L.a,{size:e.size||128})}var x=t(19),G=t.n(x),T=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={address:null},e.handleChange=function(a){(a=""!==a?a:null)||localStorage.removeItem("address"),e.setState({address:a})},e.handleSelect=function(a){if(e.setState({address:a}),localStorage.setItem("address",a),window.history.pushState){var t=window.location.origin+"?address=".concat(a);window.history.pushState({path:t},"",t)}Object(x.geocodeByAddress)(a).then((function(e){return Object(x.getLatLng)(e[0])})).then((function(t){return e.props.onChange(a,t)})).catch((function(e){return console.error(e)}))},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search);return e.get("address")?this.handleSelect(e.get("address")):localStorage.getItem("address")?this.handleSelect(localStorage.getItem("address")):void 0}},{key:"render",value:function(){return r.a.createElement(G.a,{value:this.state.address||localStorage.getItem("address")||"",onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:{componentRestrictions:{country:"us"}},classNames:{input:"places-search-input form-control",autocompleteContainer:"search-autocomplete-container"}},(function(e){var a=e.getInputProps,t=e.suggestions,n=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement("input",a({placeholder:"What's your address?",className:"location-search-input"})),r.a.createElement("p",{className:"text-muted text-right"},r.a.createElement("em",null,"Or, just your City and State if you prefer.")),r.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&r.a.createElement("div",null,"Loading..."),t.map((function(e){var a=e.active?"suggestion-item--active":"suggestion-item",t=e.active?{backgroundColor:"#ddd",cursor:"pointer",borderRadius:"4px",padding:"2px"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:a,style:t}),r.a.createElement("span",null,e.description))}))))}))}}]),t}(n.Component),P=t(24),R=t.n(P),D=t(41),K=t.n(D),U=t(20),Y=t.n(U),z=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).mapAddress=function(e){var a="".concat(e.line1," ").concat(e.line2," ").concat(e.line3," ").concat(e.city," ").concat(e.state," ").concat(e.zip),t=encodeURIComponent(a),n="https://www.google.com/maps/search/?api=1&query=".concat(t);window.open(n)},e}return Object(p.a)(t,[{key:"render",value:function(){var e,a=this,t=this.props,n=t.office,o=t.official;switch(o.name){case"Donald J. Trump":e="Donald Trump";break;default:e=o.name}var c=o.party?"Unknown"===o.party?"Unknown Party":o.party:"Unknown Party",s=n.name;switch(n.name){case"governmentOfficer":s="Government Officer";break;case"legislatorUpperBody":s="Legislator, Upper Body";break;case"headofGovernment":s="Head of Government"}var i,l=o.photoUrl;"https://www.whitehouse.gov/sites/whitehouse.gov/files/images/45/PE%20Color.jpg"===l&&(l="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKx6EYhhB26AqqnnfUHX5B3HuLPilvjkKXzWR8-C8G29fOtoUN"),"https://www.whitehouse.gov/sites/whitehouse.gov/files/images/45/VPE%20Color.jpg"===l&&(l="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Mike_Pence_official_Vice_Presidential_portrait.jpg/1200px-Mike_Pence_official_Vice_Presidential_portrait.jpg"),l&&l.includes("http://")&&(l=l.replace("http://","https://"),i="https://http-securifier.herokuapp.com/?url=".concat(o.photoUrl)),l&&l.includes("bioguide.congress.gov")&&(l=i);var m=l?[l]:Y.a;return i&&m.push(i),Array.isArray(m)&&m.push(Y.a),r.a.createElement("div",{className:"official-card card mb-4"},r.a.createElement("div",{className:"card-header"},r.a.createElement(K.a,null,r.a.createElement(R.a,{className:"img-thumbnail official-profile-image float-left",src:m,loader:r.a.createElement(R.a,{className:"img-thumbnail official-profile-image float-left",src:Y.a})})),r.a.createElement("p",{className:"text-right"},r.a.createElement("span",{className:"official-name"},o.name),r.a.createElement("br",null),r.a.createElement("span",{className:"office-name"},s),r.a.createElement("br",null),r.a.createElement("span",{className:"office-party"},c.includes("Republican")&&r.a.createElement(v.a,{icon:"republican",color:"#E91D0E"}),c.includes("Democrat")&&r.a.createElement(v.a,{icon:"democrat",color:"#232066"}),r.a.createElement("span",{className:"icon-text"},c)))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("address",null,o.address&&o.address.length>0&&r.a.createElement("p",null,""!==o.address[0].line1&&r.a.createElement("span",null,o.address[0].line1,r.a.createElement("br",null)),""!==o.address[0].line2&&r.a.createElement("span",null,o.address[0].line2,r.a.createElement("br",null)),""!==o.address[0].line3&&r.a.createElement("span",null,o.address[0].line3,r.a.createElement("br",null),">"),r.a.createElement("span",null,o.address[0].city,", ",o.address[0].state," ",o.address[0].zip,r.a.createElement("br",null))),o.phones&&o.phones.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{icon:"phone"}),r.a.createElement("a",{className:"icon-text",href:"tel:".concat(o.phones[0])},o.phones[0]),r.a.createElement("br",null)))))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{title:"Search on Ballotpedia",className:"btn btn-link",href:"https://ballotpedia.org/wiki/index.php?search=".concat(e),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"vote-yea",size:"2x"})),o.emails&&o.emails.length>0&&r.a.createElement("a",{title:"Send Email",className:"btn btn-link",href:"mailto:".concat(o.emails[0])},r.a.createElement(v.a,{icon:"envelope",size:"2x"})),o.phones&&o.phones.length>0&&r.a.createElement("a",{title:"Call: ".concat(o.phones[0]),className:"btn btn-link",href:"tel://".concat(o.phones[0])},r.a.createElement(v.a,{icon:"phone",size:"2x"})),o.address&&o.address.length>0&&r.a.createElement("span",{title:"View on Map",className:"btn btn-link",onClick:function(){return a.mapAddress(o.address[0])}},r.a.createElement(v.a,{icon:"map-marker-alt",size:"2x"})),o.urls&&o.urls.length>0&&r.a.createElement("a",{title:"Visit website: ".concat(o.urls[0]),className:"btn btn-link",href:o.urls[0],target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{icon:"link",size:"2x"})),o.channels&&o.channels.length>0&&o.channels.map((function(e){var a=null,t=null,n=null;switch(e.type){case"Facebook":a=r.a.createElement(v.a,{icon:["fab","facebook"],size:"2x"}),n=t="https://fb.me/".concat(e.id);break;case"Twitter":a=r.a.createElement(v.a,{icon:["fab","twitter"],size:"2x"}),t="https://twitter.com/".concat(e.id),n="twitter://user?screen_name=".concat(e.id);break;case"YouTube":a=r.a.createElement(v.a,{icon:["fab","youtube"],size:"2x"}),n=t="https://youtube.com/user/".concat(e.id);break;default:a=null}return r.a.createElement("span",{key:e.type+e.id},a&&r.a.createElement("a",{title:"".concat(e.type,": ").concat(e.id),className:"btn btn-link",key:e.type+e.id,href:/Mobi|Android/i.test(navigator.userAgent)?n:t,target:"_blank",rel:"noopener noreferrer"},a))})))))}}]),t}(n.Component),W="https://maps.googleapis.com/maps/api/js?key=".concat(b.PLACES_API_KEY,"&libraries=places"),B=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={isLoading:!1,showAddressBar:!1,representatives:null},e.componentDidMount=function(){var a;a=setInterval((function(){window.google&&(e.setState({showAddressBar:!0},(function(){document.querySelector(".location-search-input").focus(),document.querySelector(".location-search-input").addEventListener("focus",(function(e){e.target.select()}))})),clearInterval(a))}),100),fetch("https://json.geoiplookup.io").then((function(e){return e.json()})).then((function(e){"US"!==e.country_code&&window.alert("Please note that this app only provides data for the United States")})).catch((function(e){console.log(e)}))},e.onChange=function(){var a=Object(d.a)(m.a.mark((function a(t,n){var r,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.setState({isLoading:!0,representatives:null}),a.next=4,O.representatives({address:t});case 4:r=a.sent,o=[],Object.values(r.data.divisions).forEach((function(e){o.push({name:e.name,offices:e.officeIndices})})),e.setState({isLoading:!1,representatives:{divisions:o,offices:r.data.offices,officials:r.data.officials}}),document.querySelector(".address-search-container").classList.add("done"),document.querySelector(".location-search-input").blur(),document.title="Who Governs Me? \u2022 ".concat(t),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.error(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,t){return a.apply(this,arguments)}}(),e.scrollToTop=function(){window.scrollTo(0,0)},e}return Object(p.a)(t,[{key:"render",value:function(){var e=this;b.GOOGLE_ANALYTICS_TRACKING_ID=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).GOOGLE_ANALYTICS_TRACKING_ID||b.GOOGLE_ANALYTICS_TRACKING_ID||"";var a={backgroundColor:"#2222aa"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("script",{src:W}),b.GOOGLE_ANALYTICS_TRACKING_ID&&r.a.createElement("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=".concat(b.GOOGLE_ANALYTICS_TRACKING_ID)}),b.GOOGLE_ANALYTICS_TRACKING_ID&&r.a.createElement("script",null,"window.dataLayer = window.dataLayer || [];\n                function gtag(){dataLayer.push(arguments);}\n                gtag('js', new Date());\n                gtag('config', '".concat(b.GOOGLE_ANALYTICS_TRACKING_ID,"');\n              "))),r.a.createElement(I,null),r.a.createElement("div",{className:"container address-search-container"},this.state.showAddressBar&&r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{onChange:this.onChange}))),r.a.createElement("div",{className:"container search-results-wrapper"},this.state.isLoading&&r.a.createElement(j,null),this.state.representatives&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},this.state.representatives.divisions.map((function(a){if(!a.offices||0===a.offices.length)return null;var t=a.name.replace(/([' | ])+/g,"_");return r.a.createElement("section",{key:a.name,id:"SECTION_"+t},r.a.createElement("div",{className:"card mt-4"},r.a.createElement("div",{className:"card-header bg-dark text-white"},r.a.createElement("h3",null,r.a.createElement(v.a,{icon:"landmark"}),r.a.createElement("span",{style:{marginLeft:"20px"}},"United States"!==a.name?a.name:"Federal"))),r.a.createElement("div",{id:t,className:"card-body collapse show"},r.a.createElement("div",{className:"card-deck"},a.offices&&a.offices.map((function(a){var t=e.state.representatives.offices[a],n=t.officialIndices.map((function(a){return e.state.representatives.officials[a]}));return r.a.createElement(r.a.Fragment,{key:a},n.map((function(e){return r.a.createElement(z,{key:e.name+Math.random(),office:t,official:e})})))}))))))}))))),r.a.createElement("footer",{className:"footer mt-auto py-3"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{href:"https://github.com/mathiscode/whogoverns.me",target:"_blank",rel:"noopener noreferrer"},"Made with ",r.a.createElement(v.a,{icon:"heart",color:"#d00"})," by J.R. Mathis"),r.a.createElement("small",{className:"float-right"},r.a.createElement("em",null,"Data provided by ",r.a.createElement("a",{href:"https://developers.google.com/civic-information",target:"_blank",rel:"noopener noreferrer"},"Google Civic Information"))))),r.a.createElement(E.b,{alwaysShowTitle:!0,event:"click",icon:r.a.createElement(v.a,{icon:"bars"}),mainButtonStyles:{backgroundColor:"#aa0000"},children:[r.a.createElement(E.a,{text:"Search",style:a,onClick:function(){e.scrollToTop(),document.querySelector(".location-search-input").focus()}},r.a.createElement(v.a,{icon:"search"})),r.a.createElement(E.a,{text:"Register to Vote",style:a,onClick:function(){return window.open("https://www.vote.org/register-to-vote/","_blank")}},r.a.createElement(v.a,{icon:"vote-yea"})),r.a.createElement(E.a,{text:"Buy me a beer",style:a,onClick:function(){return window.open("https://beerpay.io/mathiscode/whogoverns.me","_blank")}},r.a.createElement(v.a,{icon:"beer"}))]}))}}]),t}(n.Component),M=(t(78),t(79),t(80),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function V(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var q=t(4);s.b.add(i.a,q.a,q.b,q.f,q.g,q.i,q.k,q.l,q.m,q.h,q.e,q.n,q.p,q.q,q.c,q.o,q.j,q.d),c.a.render(r.a.createElement(B,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/wgm-worker.js");M?(!function(e,a){fetch(e).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):V(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("WhoGoverns.me Service Worker ready!")}))):V(a,e)}))}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.ca678e3d.chunk.js.map